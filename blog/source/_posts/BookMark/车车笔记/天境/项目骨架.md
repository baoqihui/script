## 一、车车项目骨架参照

### 1.初始项目骨架参照

语言或技术栈：

基于Gradle构建的、Java（Java、Groovy、Kotlin）+Spring框架的项目 http://192.168.1.213/pub-apps/gradle-project-template 

+ Java/Groovy
+ Jpa
+ ...

### 2.分层

+ Model（内部业务模型）

+ DTO（跨系统数据交换、传输）

+ Service（业务服务内部接口声明及实现）

+ RESTful API（HTTP层实现）

+ Client SDK（可选）

## 二、原停给利项目骨架改版

### 1.语言或技术栈：

+ 语言：Java11
+ 构建：Gradle
+ 基本框架：spring boot
+ 持久层框架：mybatis-plus
+ api文档：swagger
+ DB：mysql+redis+mongDB
+ ihub相关插件
+ pmd代码静态检查、git钩子程序

### 2.分层

![image-20220418113819985](https://img-1256282866.cos.ap-beijing.myqcloud.com/image-20220418113819985.png)

+ entity：数据实体/常量/枚举
+ externalapi：外部调用 风控/支付/车车平台服务对接
+ rest：包含controller层（但对比原有骨架去除了Facade层）
+ scheduletask：定时任务
+ service：包含service层和dao层

### 3.存在问题

单元测试工具的确定，原有测试工具采用Groovy+Spock形式，对Java以及mybatis支持比较差，存在部分bug未解决，基本未使用。







## 已完成

1、改gradle.properties，ihub-plugin升级至1.2.6

2、webflux改为webmvc，配置在gradle/springboot_web_settings.gradle

3、这个新模板用的JUnit5，不是Spock

4、jwt无需官方包（搜jsonwebtoken，擦除项目中的所有痕迹），改用hutool就行，它有一系列方便方法，默认每个项目都对它有implementation级别的依赖

5、Controller实现类无需implements某个interface，因为没有SpringCloud声明Feign Client的需求

6、不要添加Swagger

7、mysql jdbc driver依赖加到rest里（那个mysql r2dbc driver的位置），不要加到其他层

8、持久层改用mybatis-plus

+ hutool引入

+ mybatis配置分页、sql日志

### 进行中

+ 认证重新改为mvc

### 待完成



